<!-- Column Selector Component for Sensitivity Results -->
<div class="card custom-card mb-4">
    <div class="card-header no-border">
        <strong>Select Information to Display</strong>
    </div>
    <div class="card-body">
        <div class="column-selector">
            <!-- Base Columns (always shown) -->
            <div class="mb-3">
                <label class="form-label fw-bold">Facility Information</label>
                <div class="ms-2">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input base-column" id="col-facility" checked disabled>
                        <label class="form-check-label" for="col-facility">Facility</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column facility-info" id="col-asset-archetype" checked data-column="Asset Archetype">
                        <label class="form-check-label" for="col-asset-archetype"><strong>Asset Archetype</strong></label>
                    </div>
                </div>
            </div>
            
            <!-- Flood -->
            {% if 'Flood' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-flood" checked data-hazard="flood">
                    <label class="form-check-label fw-bold" for="col-flood">Flood</label>
                </div>
                <div class="ms-4">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column flood" id="col-flood-depth" checked data-column="Flood Depth (meters)">
                        <label class="form-check-label" for="col-flood-depth">Flood Depth (meters)</label>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Water Stress - Only Original Exposure Column with Custom Coloring -->
            {% if 'Water Stress' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-water-stress" checked data-hazard="water-stress">
                    <label class="form-check-label fw-bold" for="col-water-stress">Water Stress</label>
                </div>
                <div class="ms-4">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column water-stress" id="col-water-stress-exposure" checked data-column="Water Stress Exposure (%)">
                        <label class="form-check-label" for="col-water-stress-exposure">
                            <strong>Water Stress Exposure (%)</strong> <span class="badge bg-warning text-dark">Custom Thresholds</span>
                        </label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column water-stress" id="col-water-stress-exposure-2030" data-column="Water Stress Exposure 2030 (%)">
                        <label class="form-check-label" for="col-water-stress-exposure-2030">Water Stress Exposure 2030 (%)</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column water-stress" id="col-water-stress-exposure-2050" data-column="Water Stress Exposure 2050 (%)">
                        <label class="form-check-label" for="col-water-stress-exposure-2050">Water Stress Exposure 2050 (%)</label>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Sea Level Rise -->
            {% if 'Sea Level Rise' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-sea-level-rise" data-hazard="sea-level-rise">
                    <label class="form-check-label fw-bold" for="col-sea-level-rise">Sea Level Rise</label>
                </div>
                <div class="ms-4">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column sea-level-rise" id="col-elevation" data-column="Elevation (meter above sea level)">
                        <label class="form-check-label" for="col-elevation">Elevation (meter above sea level)</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column sea-level-rise" id="col-slr-2030" data-column="2030 Sea Level Rise (in meters)">
                        <label class="form-check-label" for="col-slr-2030">2030 Sea Level Rise (in meters)</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column sea-level-rise" id="col-slr-2040" checked data-column="2040 Sea Level Rise (in meters)">
                        <label class="form-check-label" for="col-slr-2040">2040 Sea Level Rise (in meters)</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column sea-level-rise" id="col-slr-2050" data-column="2050 Sea Level Rise (in meters)">
                        <label class="form-check-label" for="col-slr-2050">2050 Sea Level Rise (in meters)</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-column sea-level-rise" id="col-slr-2060" data-column="2060 Sea Level Rise (in meters)">
                        <label class="form-check-label" for="col-slr-2060">2060 Sea Level Rise (in meters)</label>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Tropical Cyclone -->
            {% if 'Tropical Cyclones' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-tropical-cyclone" data-hazard="tropical-cyclone">
                    <label class="form-check-label fw-bold" for="col-tropical-cyclone">Tropical Cyclone</label>
                </div>
                <div class="ms-4">
                    <!-- Baseline Columns -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="tc-baseline-group" data-hazard="tc-baseline">
                        <label class="form-check-label fw-bold" for="tc-baseline-group">Baseline</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-baseline tropical-cyclone" id="col-tc-10yr" data-column="Extreme Windspeed 10 year Return Period (km/h)">
                            <label class="form-check-label" for="col-tc-10yr">Extreme Windspeed 10 year Return Period (km/h)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-baseline tropical-cyclone" id="col-tc-20yr" data-column="Extreme Windspeed 20 year Return Period (km/h)">
                            <label class="form-check-label" for="col-tc-20yr">Extreme Windspeed 20 year Return Period (km/h)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-baseline tropical-cyclone" id="col-tc-50yr" data-column="Extreme Windspeed 50 year Return Period (km/h)">
                            <label class="form-check-label" for="col-tc-50yr">Extreme Windspeed 50 year Return Period (km/h)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-baseline tropical-cyclone" id="col-tc-100yr" checked data-column="Extreme Windspeed 100 year Return Period (km/h)">
                            <label class="form-check-label" for="col-tc-100yr">Extreme Windspeed 100 year Return Period (km/h)</label>
                        </div>
                    </div>
                    <!-- Future (Moderate Case) -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="tc-moderate-group" data-hazard="tc-moderate">
                        <label class="form-check-label fw-bold" for="tc-moderate-group">Future (Moderate Case)</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-moderate tropical-cyclone" id="col-tc-10yr-base" data-column="Extreme Windspeed 10 year Return Period (km/h) - Moderate Case">
                            <label class="form-check-label" for="col-tc-10yr-base">Extreme Windspeed 10 year Return Period (km/h) - Moderate Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-moderate tropical-cyclone" id="col-tc-20yr-base" data-column="Extreme Windspeed 20 year Return Period (km/h) - Moderate Case">
                            <label class="form-check-label" for="col-tc-20yr-base">Extreme Windspeed 20 year Return Period (km/h) - Moderate Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-moderate tropical-cyclone" id="col-tc-50yr-base" data-column="Extreme Windspeed 50 year Return Period (km/h) - Moderate Case">
                            <label class="form-check-label" for="col-tc-50yr-base">Extreme Windspeed 50 year Return Period (km/h) - Moderate Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-moderate tropical-cyclone" id="col-tc-100yr-base" data-column="Extreme Windspeed 100 year Return Period (km/h) - Moderate Case">
                            <label class="form-check-label" for="col-tc-100yr-base">Extreme Windspeed 100 year Return Period (km/h) - Moderate Case</label>
                        </div>
                    </div>
                    <!-- Future (Worst Case) -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="tc-worst-group" data-hazard="tc-worst">
                        <label class="form-check-label fw-bold" for="tc-worst-group">Future (Worst Case)</label>
                    </div>
                    <div class="ms-4">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-worst tropical-cyclone" id="col-tc-10yr-worst" data-column="Extreme Windspeed 10 year Return Period (km/h) - Worst Case">
                            <label class="form-check-label" for="col-tc-10yr-worst">Extreme Windspeed 10 year Return Period (km/h) - Worst Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-worst tropical-cyclone" id="col-tc-20yr-worst" data-column="Extreme Windspeed 20 year Return Period (km/h) - Worst Case">
                            <label class="form-check-label" for="col-tc-20yr-worst">Extreme Windspeed 20 year Return Period (km/h) - Worst Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-worst tropical-cyclone" id="col-tc-50yr-worst" data-column="Extreme Windspeed 50 year Return Period (km/h) - Worst Case">
                            <label class="form-check-label" for="col-tc-50yr-worst">Extreme Windspeed 50 year Return Period (km/h) - Worst Case</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column tc-worst tropical-cyclone" id="col-tc-100yr-worst" data-column="Extreme Windspeed 100 year Return Period (km/h) - Worst Case">
                            <label class="form-check-label" for="col-tc-100yr-worst">Extreme Windspeed 100 year Return Period (km/h) - Worst Case</label>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Heat -->
            {% if 'Heat' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-heat" data-hazard="heat">
                    <label class="form-check-label fw-bold" for="col-heat">Heat</label>
                </div>
                <div class="ms-4">
                    <!-- Baseline Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="heat-baseline-group" data-hazard="heat-baseline">
                        <label class="form-check-label" for="heat-baseline-group">Baseline</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-baseline heat" id="col-heat-30c" data-column="Days over 30° Celsius">
                            <label class="form-check-label" for="col-heat-30c">Days over 30° Celsius</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-baseline heat" id="col-heat-33c" data-column="Days over 33° Celsius">
                            <label class="form-check-label" for="col-heat-33c">Days over 33° Celsius</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-baseline heat" id="col-heat-35c" checked data-column="Days over 35° Celsius">
                            <label class="form-check-label" for="col-heat-35c">Days over 35° Celsius</label>
                        </div>
                    </div>

                    <!-- Future Moderate Case Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="heat-moderate-group" data-hazard="heat-moderate">
                        <label class="form-check-label" for="heat-moderate-group">Future (Moderate Case)</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-moderate heat" id="col-heat-ssp245-2630" data-column="Days over 35° Celsius (2026 - 2030) - Moderate Case">
                            <label class="form-check-label" for="col-heat-ssp245-2630">Days over 35° Celsius (2026 - 2030)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-moderate heat" id="col-heat-ssp245-3140" data-column="Days over 35° Celsius (2031 - 2040) - Moderate Case">
                            <label class="form-check-label" for="col-heat-ssp245-3140">Days over 35° Celsius (2031 - 2040)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-moderate heat" id="col-heat-ssp245-4150" data-column="Days over 35° Celsius (2041 - 2050) - Moderate Case">
                            <label class="form-check-label" for="col-heat-ssp245-4150">Days over 35° Celsius (2041 - 2050)</label>
                        </div>
                    </div>

                    <!-- Future Worst Case Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="heat-worst-group" data-hazard="heat-worst">
                        <label class="form-check-label" for="heat-worst-group">Future (Worst Case)</label>
                    </div>
                    <div class="ms-4">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-worst heat" id="col-heat-ssp585-2630" data-column="Days over 35° Celsius (2026 - 2030) - Worst Case">
                            <label class="form-check-label" for="col-heat-ssp585-2630">Days over 35° Celsius (2026 - 2030)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-worst heat" id="col-heat-ssp585-3140" data-column="Days over 35° Celsius (2031 - 2040) - Worst Case">
                            <label class="form-check-label" for="col-heat-ssp585-3140">Days over 35° Celsius (2031 - 2040)</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column heat-worst heat" id="col-heat-ssp585-4150" data-column="Days over 35° Celsius (2041 - 2050) - Worst Case">
                            <label class="form-check-label" for="col-heat-ssp585-4150">Days over 35° Celsius (2041 - 2050)</label>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Storm Surge -->
            {% if 'Storm Surge' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-storm-surge" data-hazard="storm-surge">
                    <label class="form-check-label fw-bold" for="col-storm-surge">Storm Surge</label>
                </div>
                <div class="ms-4">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="ss-baseline-group" data-hazard="ss-baseline">
                        <label class="form-check-label fw-bold" for="ss-baseline-group">Baseline</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column ss-baseline storm-surge" id="col-ss-depth" data-column="Storm Surge Flood Depth (meters)" checked>
                            <label class="form-check-label" for="col-ss-depth">Storm Surge Flood Depth (meters)</label>
                        </div>
                    </div>

                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="ss-worst-group" data-hazard="ss-worst">
                        <label class="form-check-label fw-bold" for="ss-worst-group">Future (Worst Case)</label>
                    </div>
                    <div class="ms-4">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column ss-worst storm-surge" id="col-ss-depth-worst" data-column="Storm Surge Flood Depth (meters) - Worst Case">
                            <label class="form-check-label" for="col-ss-depth-worst">Storm Surge Flood Depth (meters)</label>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Rainfall Induced Landslide -->
            {% if 'Rainfall Induced Landslide' in selected_hazards %}
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input hazard-group" id="col-landslide" data-hazard="landslide">
                    <label class="form-check-label fw-bold" for="col-landslide">Rainfall Induced Landslide</label>
                </div>
                <div class="ms-4">

                    <!-- Baseline Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="landslide-baseline-group" data-hazard="landslide-baseline">
                        <label class="form-check-label" for="landslide-baseline-group">Baseline</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column landslide-baseline landslide" id="col-landslide-baseline" checked data-column="Rainfall-Induced Landslide (factor of safety)">
                            <label class="form-check-label" for="col-landslide-baseline">Rainfall-Induced Landslide (factor of safety)</label>
                        </div>
                    </div>

                    <!-- Future Moderate Case Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="landslide-moderate-group" data-hazard="landslide-moderate">
                        <label class="form-check-label" for="landslide-moderate-group">Future (Moderate Case)</label>
                    </div>
                    <div class="ms-4 mb-2">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column landslide-moderate landslide" id="col-landslide-moderate" data-column="Rainfall-Induced Landslide (factor of safety) - Moderate Case">
                            <label class="form-check-label" for="col-landslide-moderate">Rainfall-Induced Landslide (factor of safety) - Moderate Case</label>
                        </div>
                    </div>

                    <!-- Future Worst Case Group -->
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input hazard-group" id="landslide-worst-group" data-hazard="landslide-worst">
                        <label class="form-check-label" for="landslide-worst-group">Future (Worst Case)</label>
                    </div>
                    <div class="ms-4">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input hazard-column landslide-worst landslide" id="col-landslide-worst" data-column="Rainfall-Induced Landslide (factor of safety) - Worst Case">
                            <label class="form-check-label" for="col-landslide-worst">Rainfall-Induced Landslide (factor of safety) - Worst Case</label>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Show/Hide All Control -->
            <div class="mt-4">
                <button type="button" class="btn btn-sm btn-outline-secondary me-2" id="show-all-columns">Show All</button>
                <button type="button" class="btn btn-sm btn-outline-secondary" id="hide-all-columns">Hide All</button>
            </div>
        </div>
    </div>
</div>